#' Google Identity and Access Management (IAM) API
#' Manages identity and access control for Google Cloud Platform resources, including the creation of service accounts, which you can use to authenticate to Google and make API calls.
#' 
#' Auto-generated code by googleAuthR::gar_create_api_skeleton
#'  at 2017-03-05 19:59:06
#' filename: /Users/mark/dev/R/autoGoogleAPI/googleiamv1.auto/R/iam_functions.R
#' api_json: api_json
#' 
#' @details 
#' Authentication scopes used are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' @docType package 
#' @name iam_googleAuthR
#' 
NULL
## NULL

#' A helper function that tests whether an object is either NULL _or_
#' a list of NULLs
#'
#' @keywords internal
is.NullOb <- function(x) is.null(x) | all(sapply(x, is.null))
#' Recursively step down into list, removing all such objects
#'
#' @keywords internal
rmNullObs <- function(x) {
    x <- Filter(Negate(is.NullOb), x)
    lapply(x, function(x) if (is.list(x)) 
        rmNullObs(x) else x)
}

#' Queries roles that can be granted on a particular resource.A role is grantable if it can be used as the role in a binding for a policyfor that resource.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://cloud.google.com/iam/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/cloud-platform)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param QueryGrantableRolesRequest The \link{QueryGrantableRolesRequest} object to pass to this method
#' #' @importFrom googleAuthR gar_api_generator
#' @family QueryGrantableRolesRequest functions
#' @export
roles.queryGrantableRoles <- function(QueryGrantableRolesRequest) {
    url <- "https://iam.googleapis.com/v1/roles:queryGrantableRoles"
    # iam.roles.queryGrantableRoles
    f <- googleAuthR::gar_api_generator(url, "POST", data_parse_function = function(x) x)
    stopifnot(inherits(QueryGrantableRolesRequest, "gar_QueryGrantableRolesRequest"))
    
    f(the_body = QueryGrantableRolesRequest)
    
}

#' Returns the IAM access control policy for aServiceAccount.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://cloud.google.com/iam/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/cloud-platform)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param resource REQUIRED: The resource for which the policy is being requested
#' @importFrom googleAuthR gar_api_generator
#' @export
projects.serviceAccounts.getIamPolicy <- function(resource) {
    url <- sprintf("https://iam.googleapis.com/v1/{+resource}:getIamPolicy", resource)
    # iam.projects.serviceAccounts.getIamPolicy
    f <- googleAuthR::gar_api_generator(url, "POST", data_parse_function = function(x) x)
    f()
    
}

#' Gets a ServiceAccount.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://cloud.google.com/iam/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/cloud-platform)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param name The resource name of the service account in the following format:
#' @importFrom googleAuthR gar_api_generator
#' @export
projects.serviceAccounts.get <- function(name) {
    url <- sprintf("https://iam.googleapis.com/v1/{+name}", name)
    # iam.projects.serviceAccounts.get
    f <- googleAuthR::gar_api_generator(url, "GET", data_parse_function = function(x) x)
    f()
    
}

#' Updates a ServiceAccount.Currently, only the following fields are updatable:`display_name` .The `etag` is mandatory.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://cloud.google.com/iam/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/cloud-platform)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param ServiceAccount The \link{ServiceAccount} object to pass to this method
#' @param name The resource name of the service account in the following format:
#' @importFrom googleAuthR gar_api_generator
#' @family ServiceAccount functions
#' @export
projects.serviceAccounts.update <- function(ServiceAccount, name) {
    url <- sprintf("https://iam.googleapis.com/v1/{+name}", name)
    # iam.projects.serviceAccounts.update
    f <- googleAuthR::gar_api_generator(url, "PUT", data_parse_function = function(x) x)
    stopifnot(inherits(ServiceAccount, "gar_ServiceAccount"))
    
    f(the_body = ServiceAccount)
    
}

#' Tests the specified permissions against the IAM access control policyfor a ServiceAccount.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://cloud.google.com/iam/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/cloud-platform)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param TestIamPermissionsRequest The \link{TestIamPermissionsRequest} object to pass to this method
#' @param resource REQUIRED: The resource for which the policy detail is being requested
#' @importFrom googleAuthR gar_api_generator
#' @family TestIamPermissionsRequest functions
#' @export
projects.serviceAccounts.testIamPermissions <- function(TestIamPermissionsRequest, 
    resource) {
    url <- sprintf("https://iam.googleapis.com/v1/{+resource}:testIamPermissions", 
        resource)
    # iam.projects.serviceAccounts.testIamPermissions
    f <- googleAuthR::gar_api_generator(url, "POST", data_parse_function = function(x) x)
    stopifnot(inherits(TestIamPermissionsRequest, "gar_TestIamPermissionsRequest"))
    
    f(the_body = TestIamPermissionsRequest)
    
}

#' Deletes a ServiceAccount.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://cloud.google.com/iam/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/cloud-platform)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param name The resource name of the service account in the following format:
#' @importFrom googleAuthR gar_api_generator
#' @export
projects.serviceAccounts.delete <- function(name) {
    url <- sprintf("https://iam.googleapis.com/v1/{+name}", name)
    # iam.projects.serviceAccounts.delete
    f <- googleAuthR::gar_api_generator(url, "DELETE", data_parse_function = function(x) x)
    f()
    
}

#' Signs a blob using a service account's system-managed private key.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://cloud.google.com/iam/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/cloud-platform)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param SignBlobRequest The \link{SignBlobRequest} object to pass to this method
#' @param name The resource name of the service account in the following format:
#' @importFrom googleAuthR gar_api_generator
#' @family SignBlobRequest functions
#' @export
projects.serviceAccounts.signBlob <- function(SignBlobRequest, name) {
    url <- sprintf("https://iam.googleapis.com/v1/{+name}:signBlob", name)
    # iam.projects.serviceAccounts.signBlob
    f <- googleAuthR::gar_api_generator(url, "POST", data_parse_function = function(x) x)
    stopifnot(inherits(SignBlobRequest, "gar_SignBlobRequest"))
    
    f(the_body = SignBlobRequest)
    
}

#' Lists ServiceAccounts for a project.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://cloud.google.com/iam/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/cloud-platform)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param name Required
#' @param pageToken Optional pagination token returned in an earlier
#' @param pageSize Optional limit on the number of service accounts to include in the
#' @importFrom googleAuthR gar_api_generator
#' @export
projects.serviceAccounts.list <- function(name, pageToken = NULL, pageSize = NULL) {
    url <- sprintf("https://iam.googleapis.com/v1/{+name}/serviceAccounts", name)
    # iam.projects.serviceAccounts.list
    pars = list(pageToken = pageToken, pageSize = pageSize)
    f <- googleAuthR::gar_api_generator(url, "GET", pars_args = rmNullObs(pars), 
        data_parse_function = function(x) x)
    f()
    
}

#' Creates a ServiceAccountand returns it.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://cloud.google.com/iam/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/cloud-platform)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param CreateServiceAccountRequest The \link{CreateServiceAccountRequest} object to pass to this method
#' @param name Required
#' @importFrom googleAuthR gar_api_generator
#' @family CreateServiceAccountRequest functions
#' @export
projects.serviceAccounts.create <- function(CreateServiceAccountRequest, name) {
    url <- sprintf("https://iam.googleapis.com/v1/{+name}/serviceAccounts", name)
    # iam.projects.serviceAccounts.create
    f <- googleAuthR::gar_api_generator(url, "POST", data_parse_function = function(x) x)
    stopifnot(inherits(CreateServiceAccountRequest, "gar_CreateServiceAccountRequest"))
    
    f(the_body = CreateServiceAccountRequest)
    
}

#' Signs a JWT using a service account's system-managed private key.If no expiry time (`exp`) is provided in the `SignJwtRequest`, IAM sets anan expiry time of one hour by default. If you request an expiry time ofmore than one hour, the request will fail.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://cloud.google.com/iam/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/cloud-platform)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param SignJwtRequest The \link{SignJwtRequest} object to pass to this method
#' @param name The resource name of the service account in the following format:
#' @importFrom googleAuthR gar_api_generator
#' @family SignJwtRequest functions
#' @export
projects.serviceAccounts.signJwt <- function(SignJwtRequest, name) {
    url <- sprintf("https://iam.googleapis.com/v1/{+name}:signJwt", name)
    # iam.projects.serviceAccounts.signJwt
    f <- googleAuthR::gar_api_generator(url, "POST", data_parse_function = function(x) x)
    stopifnot(inherits(SignJwtRequest, "gar_SignJwtRequest"))
    
    f(the_body = SignJwtRequest)
    
}


#' Sets the IAM access control policy for aServiceAccount.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://cloud.google.com/iam/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/cloud-platform
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/cloud-platform)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param SetIamPolicyRequest The \link{SetIamPolicyRequest} object to pass to this method
#' @param resource REQUIRED: The resource for which the policy is being specified
#' @importFrom googleAuthR gar_api_generator
#' @family SetIamPolicyRequest functions
#' @export


projects.serviceAccounts.setIamPolicy <- function(SetIamPolicyRequest, resource) {
    
    
    url <- sprintf("https://iam.googleapis.com/v1/{+resource}:setIamPolicy", resource)
    # iam.projects.serviceAccounts.setIamPolicy
    
    f <- googleAuthR::gar_api_generator(url, "POST", data_parse_function = function(x) x)
    
    stopifnot(inherits(SetIamPolicyRequest, "gar_SetIamPolicyRequest"))
    
    f(the_body = SetIamPolicyRequest)
    
    
}



