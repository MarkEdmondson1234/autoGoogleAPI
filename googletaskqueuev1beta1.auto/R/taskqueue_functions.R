#' TaskQueue API
#' Accesses a Google App Engine Pull Task Queue over REST.
#' 
#' Auto-generated code by googleAuthR::gar_create_api_skeleton
#'  at 2017-03-05 20:18:57
#' filename: /Users/mark/dev/R/autoGoogleAPI/googletaskqueuev1beta1.auto/R/taskqueue_functions.R
#' api_json: api_json
#' 
#' @details 
#' Authentication scopes used are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/taskqueue
#' \item https://www.googleapis.com/auth/taskqueue.consumer
#' }
#' 
#' @docType package 
#' @name taskqueue_googleAuthR
#' 
NULL
## NULL

#' A helper function that tests whether an object is either NULL _or_
#' a list of NULLs
#'
#' @keywords internal
is.NullOb <- function(x) is.null(x) | all(sapply(x, is.null))
#' Recursively step down into list, removing all such objects
#'
#' @keywords internal
rmNullObs <- function(x) {
    x <- Filter(Negate(is.NullOb), x)
    lapply(x, function(x) if (is.list(x)) 
        rmNullObs(x) else x)
}

#' Get detailed information about a TaskQueue.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/appengine/docs/python/taskqueue/rest}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/taskqueue
#' \item https://www.googleapis.com/auth/taskqueue.consumer
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/taskqueue, https://www.googleapis.com/auth/taskqueue.consumer)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param project The project under which the queue lies
#' @param taskqueue The id of the taskqueue to get the properties of
#' @param getStats Whether to get stats
#' @importFrom googleAuthR gar_api_generator
#' @export
.get <- function(project, taskqueue, getStats = NULL) {
    url <- sprintf("https://www.googleapis.com/taskqueue/v1beta1/projects/%s/taskqueues/%s", 
        project, taskqueue)
    # taskqueue.taskqueues.get
    pars = list(getStats = getStats)
    f <- googleAuthR::gar_api_generator(url, "GET", pars_args = rmNullObs(pars), 
        data_parse_function = function(x) x)
    f()
    
}

#' Delete a task from a TaskQueue.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/appengine/docs/python/taskqueue/rest}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/taskqueue
#' \item https://www.googleapis.com/auth/taskqueue.consumer
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/taskqueue, https://www.googleapis.com/auth/taskqueue.consumer)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param project The project under which the queue lies
#' @param taskqueue The taskqueue to delete a task from
#' @param task The id of the task to delete
#' @importFrom googleAuthR gar_api_generator
#' @export
tasks.delete <- function(project, taskqueue, task) {
    url <- sprintf("https://www.googleapis.com/taskqueue/v1beta1/projects/%s/taskqueues/%s/tasks/%s", 
        project, taskqueue, task)
    # taskqueue.tasks.delete
    f <- googleAuthR::gar_api_generator(url, "DELETE", data_parse_function = function(x) x)
    f()
    
}

#' Get a particular task from a TaskQueue.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/appengine/docs/python/taskqueue/rest}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/taskqueue
#' \item https://www.googleapis.com/auth/taskqueue.consumer
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/taskqueue, https://www.googleapis.com/auth/taskqueue.consumer)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param project The project under which the queue lies
#' @param taskqueue The taskqueue in which the task belongs
#' @param task The task to get properties of
#' @importFrom googleAuthR gar_api_generator
#' @export
tasks.get <- function(project, taskqueue, task) {
    url <- sprintf("https://www.googleapis.com/taskqueue/v1beta1/projects/%s/taskqueues/%s/tasks/%s", 
        project, taskqueue, task)
    # taskqueue.tasks.get
    f <- googleAuthR::gar_api_generator(url, "GET", data_parse_function = function(x) x)
    f()
    
}

#' Lease 1 or more tasks from a TaskQueue.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/appengine/docs/python/taskqueue/rest}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/taskqueue
#' \item https://www.googleapis.com/auth/taskqueue.consumer
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/taskqueue, https://www.googleapis.com/auth/taskqueue.consumer)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param project The project under which the queue lies
#' @param taskqueue The taskqueue to lease a task from
#' @param numTasks The number of tasks to lease
#' @param leaseSecs The lease in seconds
#' @importFrom googleAuthR gar_api_generator
#' @export
tasks.lease <- function(project, taskqueue, numTasks, leaseSecs) {
    url <- sprintf("https://www.googleapis.com/taskqueue/v1beta1/projects/%s/taskqueues/%s/tasks/lease", 
        project, taskqueue)
    # taskqueue.tasks.lease
    pars = list(numTasks = numTasks, leaseSecs = leaseSecs)
    f <- googleAuthR::gar_api_generator(url, "POST", pars_args = rmNullObs(pars), 
        data_parse_function = function(x) x)
    f()
    
}


#' List Tasks in a TaskQueue
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/appengine/docs/python/taskqueue/rest}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/taskqueue
#' \item https://www.googleapis.com/auth/taskqueue.consumer
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/taskqueue, https://www.googleapis.com/auth/taskqueue.consumer)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param project The project under which the queue lies

#' @param taskqueue The id of the taskqueue to list tasks from
#' @importFrom googleAuthR gar_api_generator
#' @export


tasks.list <- function(project, taskqueue) {
    
    
    url <- sprintf("https://www.googleapis.com/taskqueue/v1beta1/projects/%s/taskqueues/%s/tasks", 
        project, taskqueue)
    # taskqueue.tasks.list
    
    f <- googleAuthR::gar_api_generator(url, "GET", data_parse_function = function(x) x)
    
    f()
    
    
}



