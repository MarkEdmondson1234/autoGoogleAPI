#' Google App State API
#' The Google App State API.
#' 
#' Auto-generated code by googleAuthR::gar_create_api_skeleton
#'  at 2017-03-05 19:28:32
#' filename: /Users/mark/dev/R/autoGoogleAPI/googleappstatev1.auto/R/appstate_functions.R
#' api_json: api_json
#' 
#' @details 
#' Authentication scopes used are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/appstate
#' }
#' 
#' @docType package 
#' @name appstate_googleAuthR
#' 
NULL
## NULL

#' A helper function that tests whether an object is either NULL _or_
#' a list of NULLs
#'
#' @keywords internal
is.NullOb <- function(x) is.null(x) | all(sapply(x, is.null))
#' Recursively step down into list, removing all such objects
#'
#' @keywords internal
rmNullObs <- function(x) {
    x <- Filter(Negate(is.NullOb), x)
    lapply(x, function(x) if (is.list(x)) 
        rmNullObs(x) else x)
}

#' Clears (sets to empty) the data for the passed key if and only if the passed version matches the currently stored version. This method results in a conflict error on version mismatch.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/games/services/web/api/states}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/appstate
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/appstate)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param stateKey The key for the data to be retrieved
#' @param currentDataVersion The version of the data to be cleared
#' @importFrom googleAuthR gar_api_generator
#' @export
states.clear <- function(stateKey, currentDataVersion = NULL) {
    url <- sprintf("https://www.googleapis.com/appstate/v1/states/%s/clear", stateKey)
    # appstate.states.clear
    pars = list(currentDataVersion = currentDataVersion)
    f <- googleAuthR::gar_api_generator(url, "POST", pars_args = rmNullObs(pars), 
        data_parse_function = function(x) x)
    f()
    
}

#' Deletes a key and the data associated with it. The key is removed and no longer counts against the key quota. Note that since this method is not safe in the face of concurrent modifications, it should only be used for development and testing purposes. Invoking this method in shipping code can result in data loss and data corruption.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/games/services/web/api/states}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/appstate
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/appstate)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param stateKey The key for the data to be retrieved
#' @importFrom googleAuthR gar_api_generator
#' @export
states.delete <- function(stateKey) {
    url <- sprintf("https://www.googleapis.com/appstate/v1/states/%s", stateKey)
    # appstate.states.delete
    f <- googleAuthR::gar_api_generator(url, "DELETE", data_parse_function = function(x) x)
    f()
    
}

#' Retrieves the data corresponding to the passed key. If the key does not exist on the server, an HTTP 404 will be returned.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/games/services/web/api/states}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/appstate
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/appstate)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param stateKey The key for the data to be retrieved
#' @importFrom googleAuthR gar_api_generator
#' @export
states.get <- function(stateKey) {
    url <- sprintf("https://www.googleapis.com/appstate/v1/states/%s", stateKey)
    # appstate.states.get
    f <- googleAuthR::gar_api_generator(url, "GET", data_parse_function = function(x) x)
    f()
    
}

#' Lists all the states keys, and optionally the state data.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/games/services/web/api/states}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/appstate
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/appstate)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param includeData Whether to include the full data in addition to the version number
#' @importFrom googleAuthR gar_api_generator
#' @export
states.list <- function(includeData = NULL) {
    url <- "https://www.googleapis.com/appstate/v1/states"
    # appstate.states.list
    pars = list(includeData = includeData)
    f <- googleAuthR::gar_api_generator(url, "GET", pars_args = rmNullObs(pars), 
        data_parse_function = function(x) x)
    f()
    
}


#' Update the data associated with the input key if and only if the passed version matches the currently stored version. This method is safe in the face of concurrent writes. Maximum per-key size is 128KB.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/games/services/web/api/states}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/appstate
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/appstate)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param UpdateRequest The \link{UpdateRequest} object to pass to this method
#' @param stateKey The key for the data to be retrieved

#' @param currentStateVersion The version of the app state your application is attempting to update
#' @importFrom googleAuthR gar_api_generator
#' @family UpdateRequest functions
#' @export


states.update <- function(UpdateRequest, stateKey, currentStateVersion = NULL) {
    
    
    url <- sprintf("https://www.googleapis.com/appstate/v1/states/%s", stateKey)
    # appstate.states.update
    pars = list(currentStateVersion = currentStateVersion)
    
    f <- googleAuthR::gar_api_generator(url, "PUT", pars_args = rmNullObs(pars), 
        data_parse_function = function(x) x)
    
    stopifnot(inherits(UpdateRequest, "gar_UpdateRequest"))
    
    f(the_body = UpdateRequest)
    
    
}



