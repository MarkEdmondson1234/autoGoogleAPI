#' Admin Reports API
#' Fetches reports for the administrators of Google Apps customers about the usage, collaboration, security, and risk for their users.
#' 
#' Auto-generated code by googleAuthR::gar_create_api_skeleton
#'  at 2017-03-05 19:23:13
#' filename: /Users/mark/dev/R/autoGoogleAPI/googleadminreportsv1.auto/R/admin_functions.R
#' api_json: api_json
#' 
#' @details 
#' Authentication scopes used are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/admin.reports.audit.readonly
#' \item https://www.googleapis.com/auth/admin.reports.usage.readonly
#' }
#' 
#' @docType package 
#' @name admin_googleAuthR
#' 
NULL
## NULL

#' A helper function that tests whether an object is either NULL _or_
#' a list of NULLs
#'
#' @keywords internal
is.NullOb <- function(x) is.null(x) | all(sapply(x, is.null))
#' Recursively step down into list, removing all such objects
#'
#' @keywords internal
rmNullObs <- function(x) {
    x <- Filter(Negate(is.NullOb), x)
    lapply(x, function(x) if (is.list(x)) 
        rmNullObs(x) else x)
}

#' Retrieves a list of activities for a specific customer and application.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/admin-sdk/reports/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/admin.reports.audit.readonly
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/admin.reports.audit.readonly)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param userKey Represents the profile id or the user email for which the data should be filtered
#' @param applicationName Application name for which the events are to be retrieved
#' @param actorIpAddress IP Address of host where the event was performed
#' @param customerId Represents the customer for which the data is to be fetched
#' @param endTime Return events which occured at or before this time
#' @param eventName Name of the event being queried
#' @param filters Event parameters in the form [parameter1 name][operator][parameter1 value],[parameter2 name][operator][parameter2 value],
#' @param maxResults Number of activity records to be shown in each page
#' @param pageToken Token to specify next page
#' @param startTime Return events which occured at or after this time
#' @importFrom googleAuthR gar_api_generator
#' @export
reports.activities.list <- function(userKey, applicationName, actorIpAddress = NULL, 
    customerId = NULL, endTime = NULL, eventName = NULL, filters = NULL, maxResults = NULL, 
    pageToken = NULL, startTime = NULL) {
    url <- sprintf("https://www.googleapis.com/admin/reports/v1/activity/users/%s/applications/%s", 
        userKey, applicationName)
    # reports.activities.list
    pars = list(actorIpAddress = actorIpAddress, customerId = customerId, endTime = endTime, 
        eventName = eventName, filters = filters, maxResults = maxResults, pageToken = pageToken, 
        startTime = startTime)
    f <- googleAuthR::gar_api_generator(url, "GET", pars_args = rmNullObs(pars), 
        data_parse_function = function(x) x)
    f()
    
}

#' Push changes to activities
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/admin-sdk/reports/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/admin.reports.audit.readonly
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/admin.reports.audit.readonly)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param Channel The \link{Channel} object to pass to this method
#' @param userKey Represents the profile id or the user email for which the data should be filtered
#' @param applicationName Application name for which the events are to be retrieved
#' @param actorIpAddress IP Address of host where the event was performed
#' @param customerId Represents the customer for which the data is to be fetched
#' @param endTime Return events which occured at or before this time
#' @param eventName Name of the event being queried
#' @param filters Event parameters in the form [parameter1 name][operator][parameter1 value],[parameter2 name][operator][parameter2 value],
#' @param maxResults Number of activity records to be shown in each page
#' @param pageToken Token to specify next page
#' @param startTime Return events which occured at or after this time
#' @importFrom googleAuthR gar_api_generator
#' @family Channel functions
#' @export
reports.activities.watch <- function(Channel, userKey, applicationName, actorIpAddress = NULL, 
    customerId = NULL, endTime = NULL, eventName = NULL, filters = NULL, maxResults = NULL, 
    pageToken = NULL, startTime = NULL) {
    url <- sprintf("https://www.googleapis.com/admin/reports/v1/activity/users/%s/applications/%s/watch", 
        userKey, applicationName)
    # reports.activities.watch
    pars = list(actorIpAddress = actorIpAddress, customerId = customerId, endTime = endTime, 
        eventName = eventName, filters = filters, maxResults = maxResults, pageToken = pageToken, 
        startTime = startTime)
    f <- googleAuthR::gar_api_generator(url, "POST", pars_args = rmNullObs(pars), 
        data_parse_function = function(x) x)
    stopifnot(inherits(Channel, "gar_Channel"))
    
    f(the_body = Channel)
    
}

#' Stop watching resources through this channel
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/admin-sdk/reports/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/admin.reports.audit.readonly
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/admin.reports.audit.readonly)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param Channel The \link{Channel} object to pass to this method
#' #' @importFrom googleAuthR gar_api_generator
#' @family Channel functions
#' @export
channels.stop <- function(Channel) {
    url <- "https://www.googleapis.com/admin/reports/v1//admin/reports_v1/channels/stop"
    # admin.channels.stop
    f <- googleAuthR::gar_api_generator(url, "POST", data_parse_function = function(x) x)
    stopifnot(inherits(Channel, "gar_Channel"))
    
    f(the_body = Channel)
    
}

#' Retrieves a report which is a collection of properties / statistics for a specific customer.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/admin-sdk/reports/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/admin.reports.usage.readonly
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/admin.reports.usage.readonly)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param date Represents the date in yyyy-mm-dd format for which the data is to be fetched
#' @param customerId Represents the customer for which the data is to be fetched
#' @param pageToken Token to specify next page
#' @param parameters Represents the application name, parameter name pairs to fetch in csv as app_name1:param_name1, app_name2:param_name2
#' @importFrom googleAuthR gar_api_generator
#' @export
reports.customerUsageReports.get <- function(date, customerId = NULL, pageToken = NULL, 
    parameters = NULL) {
    url <- sprintf("https://www.googleapis.com/admin/reports/v1/usage/dates/%s", 
        date)
    # reports.customerUsageReports.get
    pars = list(customerId = customerId, pageToken = pageToken, parameters = parameters)
    f <- googleAuthR::gar_api_generator(url, "GET", pars_args = rmNullObs(pars), 
        data_parse_function = function(x) x)
    f()
    
}


#' Retrieves a report which is a collection of properties / statistics for a set of users.
#' 
#' Autogenerated via \code{\link[googleAuthR]{gar_create_api_skeleton}}
#' 
#' @seealso \href{https://developers.google.com/admin-sdk/reports/}{Google Documentation}
#' 
#' @details 
#' Authentication scopes used by this function are:
#' \itemize{
#'   \item https://www.googleapis.com/auth/admin.reports.usage.readonly
#' }
#' 
#' Set \code{options(googleAuthR.scopes.selected = c(https://www.googleapis.com/auth/admin.reports.usage.readonly)}
#' Then run \code{googleAuthR::gar_auth()} to authenticate.
#' See \code{\link[googleAuthR]{gar_auth}} for details. 
#' 
#' @param userKey Represents the profile id or the user email for which the data should be filtered

#' @param date Represents the date in yyyy-mm-dd format for which the data is to be fetched

#' @param customerId Represents the customer for which the data is to be fetched

#' @param filters Represents the set of filters including parameter operator value

#' @param maxResults Maximum number of results to return

#' @param pageToken Token to specify next page

#' @param parameters Represents the application name, parameter name pairs to fetch in csv as app_name1:param_name1, app_name2:param_name2
#' @importFrom googleAuthR gar_api_generator
#' @export


reports.userUsageReport.get <- function(userKey, date, customerId = NULL, filters = NULL, 
    maxResults = NULL, pageToken = NULL, parameters = NULL) {
    
    
    url <- sprintf("https://www.googleapis.com/admin/reports/v1/usage/users/%s/dates/%s", 
        userKey, date)
    # reports.userUsageReport.get
    pars = list(customerId = customerId, filters = filters, maxResults = maxResults, 
        pageToken = pageToken, parameters = parameters)
    
    f <- googleAuthR::gar_api_generator(url, "GET", pars_args = rmNullObs(pars), 
        data_parse_function = function(x) x)
    
    f()
    
    
}



